<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="Attestia.App.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Attestia">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <NavigationView
            x:Name="NavView"
            Grid.Row="0"
            IsBackButtonVisible="Collapsed"
            IsSettingsVisible="True"
            PaneDisplayMode="Left"
            OpenPaneLength="220"
            SelectionChanged="NavView_SelectionChanged">

            <NavigationView.MenuItems>
                <!-- Primary: Lifecycle flow -->
                <NavigationViewItem Content="Overview" Tag="overview">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE80F;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Intent" Tag="intents">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE8A1;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Attestation" Tag="attestation">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE81E;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Integrity" Tag="integrity">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE8D7;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Compliance" Tag="compliance">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE73E;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>

                <NavigationViewItemSeparator />

                <!-- Secondary: Advanced / System -->
                <NavigationViewItem Content="Events" Tag="events">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE7C4;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.MenuItems>

            <!-- Page content host -->
            <Frame x:Name="ContentFrame" />

        </NavigationView>

        <!-- Status bar -->
        <Grid Grid.Row="1" Padding="16,8"
              Background="{StaticResource AttestiaPrimaryBackgroundBrush}"
              BorderBrush="{StaticResource AttestiaDividerBrush}"
              BorderThickness="0,1,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="8">
                <Ellipse x:Name="StatusIndicator" Width="8" Height="8" Fill="Gray"
                         VerticalAlignment="Center" />
                <TextBlock x:Name="StatusText" Text="Starting..." FontSize="12"
                           Foreground="{StaticResource AttestiaSecondaryTextBrush}"
                           VerticalAlignment="Center" />
            </StackPanel>

            <TextBlock Grid.Column="2" x:Name="VersionText" Text="v0.1.0" FontSize="11"
                       Foreground="{StaticResource AttestiaDividerBrush}"
                       VerticalAlignment="Center" />
        </Grid>
    </Grid>
</Window>
